
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
import seaborn as sns

#entrainement du mod√®le
from sklearn.linear_model import LinearRegression
from sklearn.metrics import mean_squared_error

import pickle

from flask import Flask, jsonify
import os

ASSETS_DIR = os.path.dirname(os.path.abspath(__file__))
app = Flask(__name__)

assurance = pd.read_csv('assurance.csv')
assurance.loc[(assurance.sex == "female"), "sex"] = 0
assurance.loc[(assurance.sex == "male"), "sex"] = 1
assurance.loc[(assurance.smoker == "yes"), "smoker"] = 1
assurance.loc[(assurance.smoker == "no"), "smoker"] = 0

@app.route('/')
def index():
    return 'Flask is running!'


@app.route('/data')
def data():
    return assurance.to_json()


if __name__ == '__main__':
    app.run(host='0.0.0.0', debug=True)

